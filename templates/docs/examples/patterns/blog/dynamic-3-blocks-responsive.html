{% extends "_layouts/examples.html" %}
{% from "_macros/vf_blog.jinja" import vf_blog %}

{% block title %}Blog / Dynamic contents / 3 blocks{% endblock %}
{% block standalone_css %}patterns_all{% endblock %}

{% block content %}
{{ vf_blog(
  title={"text": "Latest from our blog", "link": {"href": "#"}},
  template_config={"enabled": True, "layout": "3-blocks", "template_container_id": "articles-3-blocks"}
) }}

<script type="module">
  // remove module type and module import when https://github.com/canonical/latest-news/pull/55 is released, then move the path to script.src
  import { fetchLatestNews } from "{{ versioned_static('build/js/modules/latest-news.js') }}";
  fetchLatestNews({
    articlesContainerSelector: "#articles-3-blocks",
    articleTemplateSelector: "#template",
    gtmEventLabel: "Vanilla Blog pattern template example",
    /*
      Make sure your article limit and `template_config.layout` match.
      Use "3-blocks" with `limit: "3"`.
     */
    limit: "3",
    excerptLength: 180,
    imageClasses: ["p-image-container__image"]
  })
</script>
{% endblock %}
