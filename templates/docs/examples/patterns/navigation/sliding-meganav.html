{% extends "_layouts/examples.html" %}
{% block title %}Navigation / Meganav sliding (Vanilla){% endblock %}

{% block standalone_css %}patterns_navigation{% endblock %}

{% block content %}

{% macro build_link_list(n, group) %}
{% for i in range(n) %}
<li>
  <a href="#" class="p-navigation__dropdown-item">
    {{ group }} item {{ i + 1 }}
    <span class="u-text--muted">Description for {{ group }} item {{ i + 1 }}</span>
  </a>
</li>
{% endfor %}
{% endmacro %}

{% macro build_secondary_links(n) %}
<li class="p-navigation__dropdown-item no-hover">
  <ul class="p-list p-navigation__secondary-links">
    <li class="p-list__item">
      <h2 class="p-muted-heading" tabindex="0">Quick links</h2>
    </li>
    {% for i in range(1, n + 1) %}
    <li class="p-list__item">
      <a class="p-navigation__secondary-link" href="/quick-link-{{ i }}" tabindex="0">Quick link {{ i }}</a>
    </li>
    {% endfor %}
  </ul>
</li>
{% endmacro %}

{% macro build_button_link() %}
<li class="p-navigation__dropdown-item">
  <a href="#" class="is-muted">
    <span>Generic item</span>
    <br>
    <small>Description for generic item</small>
  </a>
  <a href="#" class="p-button--positive u-no-margin">Generic button</a>
</li>
{% endmacro %}


{% macro build_dropdown_items(group_name, count) %}
{% for i in range(1, count + 1) %}
{% set subgroup_id = group_name ~ '-group-' ~ i %}
{% set subgroup_name = group_name ~ ' group ' ~ i %}
<li class="p-navigation__item--dropdown-toggle" id="{{ subgroup_id }}">
  <button aria-controls="{{ subgroup_id }}-menu" class="p-navigation__link">
    {{ subgroup_name }}
  </button>
  <ul class="p-navigation__dropdown" id="{{ subgroup_id }}-menu" aria-hidden="true">
    <li class="p-navigation__item--dropdown-close" id="{{ subgroup_id }}-back">
      <button aria-controls="{{ subgroup_id }}-menu" class="p-navigation__link js-back">
        Back
      </button>
    </li>
    {{ build_button_link() }}
    {{ build_link_list(16, subgroup_name) }}
    {{ build_secondary_links(6) }}
  </ul>
</li>
{% endfor %}
{% endmacro %}

<style>
  /* move account menu to the right side */
  .p-navigation__nav .p-navigation__items:first-child {
    width: 100%;
  }

  .p-navigation__nav .p-navigation__items #all-canonical {
    margin-left: auto;
  }

  .p-navigation__dropdown-item .u-text--muted {
    display: block;
  }

  .p-navigation__dropdown-item a.is-muted {
    color: var(--vf-color-text-default);
    display: block;
    margin-bottom: 0.5rem;
  }

  .p-navigation__dropdown-item a.is-muted:hover {
    text-decoration: none;
  }

  .p-navigation__dropdown-item.no-hover:hover {
    background-color: transparent;
  }

  /* TODO, bugs

- mobile dropdown scrolls

*/
</style>
<header id="navigation" class="p-navigation--sliding is-dark">
  <div class="p-navigation__row--25-75">
    <div class="p-navigation__banner">
      <div class="p-navigation__tagged-logo">
        <a class="p-navigation__link" href="#">
          <div class="p-navigation__logo-tag">
            <img class="p-navigation__logo-icon" src="https://assets.ubuntu.com/v1/82818827-CoF_white.svg" alt="">
          </div>
          <span class="p-navigation__logo-title">Canonical Ubuntu</span>
        </a>
      </div>
      <ul class="p-navigation__items">
        <li class="p-navigation__item">
          <button class="js-search-button p-navigation__link--search-toggle">
            <span class="p-navigation__search-label">Search</span>
          </button>
        </li>
        <li class="p-navigation__item">
          <button class="js-menu-button p-navigation__link">Menu</button>
        </li>
      </ul>
    </div>
    <nav class="p-navigation__nav" id="main-nav" aria-label="Example main">
      <ul class="p-navigation__items">
        <!-- products -->
        <li class="p-navigation__item--dropdown-toggle" id="products">
          <button href="#link-1-menu" aria-controls="products-menu" class="p-navigation__link">
            Products
          </button>
          <ul class="p-navigation__dropdown" id="products-menu" aria-hidden="true">
            <li class="p-navigation__item--dropdown-close" id="products-back">
              <button href="#link-1-menu" aria-controls="products-menu" class="p-navigation__link js-back">
                Back
              </button>
            </li>
            {{ build_dropdown_items('Products', 8) }}
          </ul>
        </li>

        <!-- use cases -->
        <li class="p-navigation__item--dropdown-toggle" id="use-cases">
          <button aria-controls="use-cases-menu" class="p-navigation__link">
            Use cases
          </button>
          <ul class="p-navigation__dropdown" id="use-cases-menu" aria-hidden="true">
            <li class="p-navigation__item--dropdown-close" id="use-cases-back">
              <button aria-controls="use-cases-menu" class="p-navigation__link js-back">
                Back
              </button>
            </li>
            {{ build_button_link() }}
            {{ build_link_list(24, "Use cases") }}
          </ul>
        </li>

        <!-- support -->
        <li class="p-navigation__item--dropdown-toggle" id="support">
          <button aria-controls="support-menu" class="p-navigation__link">
            Support
          </button>
          <ul class="p-navigation__dropdown" id="support-menu" aria-hidden="true">
            <li class="p-navigation__item--dropdown-close" id="support-back">
              <button aria-controls="support-menu" class="p-navigation__link js-back">
                Back
              </button>
            </li>
            {{ build_dropdown_items('Support', 4) }}
          </ul>
        </li>

        <!-- community -->
        <li class="p-navigation__item--dropdown-toggle" id="community">
          <button aria-controls="community-menu" class="p-navigation__link">
            Community
          </button>
          <ul class="p-navigation__dropdown" id="community-menu" aria-hidden="true">
            <li class="p-navigation__item--dropdown-close" id="community-back">
              <button aria-controls="community-menu" class="p-navigation__link js-back">
                Back
              </button>
            </li>
            {{ build_link_list(4, "Community") }}
            {{ build_secondary_links(4) }}
          </ul>
        </li>

        <!-- get ubuntu -->
        <li class="p-navigation__item--dropdown-toggle" id="get-ubuntu">
          <button aria-controls="get-ubuntu-menu" class="p-navigation__link">
            Get Ubuntu
          </button>
          <ul class="p-navigation__dropdown" id="get-ubuntu-menu" aria-hidden="true">
            <li class="p-navigation__item--dropdown-close" id="get-ubuntu-back">
              <button aria-controls="get-ubuntu-menu" class="p-navigation__link js-back">
                Back
              </button>
            </li>
            {{ build_link_list(20, "Get Ubuntu") }}
          </ul>
        </li>
        <!-- all canonical -->
        <li class="p-navigation__item--dropdown-toggle" id="all-canonical">
          <button aria-controls="all-canonical-menu" class="p-navigation__link">
            All Canonical
          </button>
          <ul class="p-navigation__dropdown" id="all-canonical-menu" aria-hidden="true">
            <li class="p-navigation__item--dropdown-close" id="all-canonical-back">
              <button aria-controls="all-canonical-menu" class="p-navigation__link js-back">
                Back
              </button>
            </li>
            {{ build_link_list(12, "All Canonical") }}
          </ul>
        </li>

        <!-- account -->
        <li class="p-navigation__item--dropdown-toggle" id="accounts">
          <button aria-controls="accounts-menu" class="p-navigation__link">
            Account
          </button>
          <ul class="p-navigation__dropdown" id="accounts-menu" aria-hidden="true">
            <li class="p-navigation__item--dropdown-close" id="accounts-menu-back">
              <button aria-controls="accounts-menu" class="p-navigation__link js-back">
                Back
              </button>
            </li>
            <li>
              <a href="#" class="p-navigation__dropdown-item">Logged in as...</a>
            </li>
            <li>
              <a href="#" class="p-navigation__dropdown-item">Ubuntu Pro dashboard</a>
            </li>
            <li>
              <a href="#" class="p-navigation__dropdown-item">Invoices and payments</a>
            </li>
            <li>
              <a href="#" class="p-navigation__dropdown-item">Account settings</a>
            </li>
            <li>
              <a href="#" class="p-navigation__dropdown-item">Logout</a>
            </li>
          </ul>
        </li>
      </ul>
      <ul class="p-navigation__items">
        <li class="p-navigation__item">
          <button class="js-search-button p-navigation__link--search-toggle">
            <span class="p-navigation__search-label">Search</span>
          </button>
        </li>
      </ul>
      <div class="p-navigation__search">
        <form class="p-search-box">
          <input type="search" class="p-search-box__input" name="q" placeholder="Search our sites" required=""
            aria-label="Search our sites">
          <button type="reset" class="p-search-box__reset"><i class="p-icon--close"></i></button>
          <button type="submit" class="p-search-box__button"><i class="p-icon--search"></i></button>
        </form>
      </div>
    </nav>
  </div>
  <div class="p-navigation__search-overlay"></div>
</header>

<script>
  {% include 'docs/examples/patterns/navigation/_script-sliding.js' %}
</script>
{% endblock %}

{% block style %}
<style>
  body {
    margin: 0;
  }
</style>
{% endblock %}