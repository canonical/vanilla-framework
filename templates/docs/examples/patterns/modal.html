{% extends "_layouts/examples.html" %}
{% block title %}Modal{% endblock %}

{% block standalone_css %}patterns_modal{% endblock %}

{% block content %}
<button id="showModal" aria-controls="modal">Show modal</button>

<div class="p-modal" id="modal">
  <div class="p-modal__dialog" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description">
    <header class="p-modal__header">
      <h2 class="p-modal__title" id="modal-title">Help</h2>
      <button class="p-modal__close" aria-label="Close active modal" aria-controls="modal">Close</button>
    </header>
    <p id="modal-description">Learn how to operate production-ready clusters.</p>
    <div class="p-heading-icon--small">
      <div class="p-heading-icon__header">
        <img class="p-heading-icon__img" src="https://assets.ubuntu.com/v1/b81a45e4-kubernetes.svg" />
        <p><a class="p-heading-icon__title" href="#tutorial/get-started-canonical-kubernetes" width="24">Kubernetes tutorial</a></p>
      </div>
      <div class="p-heading-icon__header">
        <img class="p-heading-icon__img" src="https://assets.ubuntu.com/v1/5e3456e3-hadoop.svg" />
        <p><a class="p-heading-icon__title" href="#tutorial/get-started-hadoop-spark" width="24">Hadoop Spark tutorial</a></p>
      </div>
    </div>
  </div>
</div>

<script>
/**
  Toggles visibility of modal dialog.
  @param {HTMLElement} modal Modal dialog to show or hide.
*/
function toggleModal(modal) {
  if (modal && modal.classList.contains('p-modal')) {
    if (modal.style.display === 'none') {
      modal.style.display = 'flex';
    } else {
      modal.style.display = 'none';
    }
  }
}

// Add click handler for clicks on elements with aria-controls
document.addEventListener('click', function(event) {
  var targetControls = event.target.getAttribute('aria-controls');
  if (targetControls) {
    toggleModal(document.getElementById(targetControls));
  }
});
</script>
{% endblock %}
