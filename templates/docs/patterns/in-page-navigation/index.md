---
wrapper_template: '_layouts/docs.html'
context:
  title: In page navigation | Patterns
---

{% from "docs/macros/patterns/wip-notice.jinja" import pattern_wip_notice %}
{% from "docs/macros/notice.jinja" import documentation_notice %}

{{- pattern_wip_notice() }}

{{- documentation_notice("p-notification--information", "A note on usage", "This component can not be used as a standalone section. It must be used within the default grid, with a grid column variant (preferably `grid-col-2`) as its direct parent.") }}

A component that generates a table of contents to be embedded within the page. It accepts a dictionary of heading names and IDs when in 'manual' mode but can also be used in 'full-page' mode to auto-generate them (this requires the associated JS).

Clickling the links will take you to that heading in the page. The navigaton also highlights the current position you are in the page.

The in-page navigation component is composed of the following elements:

| Element           | Description                                                    |
| ----------------- | -------------------------------------------------------------- |
| title             | Optional title above the navigation                            |
| navigation_items  | A dictionary of the heading names, IDs                         |
| scope             | Whether the navigation will be manual built or generated by JS |
| primary_heading   | The level of the primary headings ('h2' or 'h3')               |
| secondary_heading | The level of the secondary headings ('h3' or 'h4')             |
| excludes          | An optional list of headings to ignore                         |

## Manual mode

The navigation is always expected to be used within the grid (whether in "manual" or "full-page" mode). It should have a grid column as a direct parent and preferably be in 2 columns on large screens, and 4 colums on medium and small screens.

<div class="embedded-example"><a href="/docs/examples/patterns/in-page-navigation/component" class="js-example" data-lang="jinja">
View example of the in-page navigation component in 'full-page' mode
</a></div>

## Manual mode, no heading

<div class="embedded-example"><a href="/docs/examples/patterns/in-page-navigation/component-no-heading" class="js-example" data-lang="jinja">
View example of the in-page navigation component in 'full-page' mode
</a></div>

## In page examples

This is an example of "full-page" mode with mock content. The navigation has been auto-generated:

<a href="/docs/examples/patterns/in-page-navigation/full-page">Full-page mode example with mock content</a>

This is an example of "manual" mode, where a dictionary of headings was passed to the Jinja macro. In this instance it is found half way down the page:

<a href="/docs/examples/patterns/in-page-navigation/manual">Manual mode example with mock content</a>

## Jinja Macro

The `vf_in_page_navigation` Jinja macro can be used to generate an in-page navigation. The API for the macro is shown
below.

### Parameters

<div style="overflow: auto;">
  <table>
    <thead>
      <tr>
        <th style="width: 220px;">Name</th>
        <th style="width: 160px;">Required?</th>
        <th style="width: 160px;">Type</th>
        <th style="width: 160px;">Default</th>
        <th style="width: 250px;">Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <code>title</code>
        </td>
        <td>
          No
        </td>
        <td>
          <code>String</code>
        </td>
        <td>
          <code>N/A</code>
        </td>
        <td>
          The title of the in-page navigation
        </td>
      </tr>
      <tr>
        <td>
          <code>navigation_items</code>
        </td>
        <td>
          No
        </td>
        <td>
          <code>Object</code>
        </td>
        <td>
          <code>N/A</code>
        </td>
        <td>
          The navigation represented as an object. The heirachy and order of the navigation should be reflected in the object to a maximum of 2 levels deep.
        </td>
      </tr>      
      <tr>
        <td>
          <code>navigation_items{}.text</code>
        </td>
        <td>
          Yes (if passing `navigation_items`)
        </td>
        <td>
          <code>String</code>
        </td>
        <td>
          <code>N/A</code>
        </td>
        <td>
          The title as it will appear in the navigation
      </tr>
      <tr>
        <td>
          <code>navigation_items{}.id</code>
        </td>
        <td>
          Yes (if passing `navigation_items`)
        </td>
        <td>
          <code>string</code>
        </td>
        <td>
          <code>N/A</code>
        </td>
        <td>
          The ID of the target heading
        </td>
      </tr>
      <tr>
        <td>
          <code>scope</code>
        </td>
        <td>
          No
        </td>
        <td>
          <code>Srting</code>
        </td>
        <td>
          <code>"full-page"</code>
        </td>
        <td>
          <strong>"full-page"</strong> - Automatically generates the in-page navigation and attaches heading IDs. Max 1 navigation per page. Requires associated JS.<br>
          <strong>"manual"</strong> - Requires passing `navigation_items` dictionary. No limit on number of navigations per page.
        </td>
      </tr>
      <tr>
        <td>
          <code>primary_heading</code>
        </td>
        <td>
          No
        </td>
        <td>
          <code>String</code>
        </td>
        <td>
          <code>"h2"</code>
        </td>
        <td>
          The top level heading that is searched for when auto-generating the navigaton.
        </td>
      </tr>
      <tr>
        <td>
          <code>secondary_heading</code>
        </td>
        <td>
          No
        </td>
        <td>
          <code>String</code>
        </td>
        <td>
          <code>N/A</code>
        </td>
        <td>
          The second level heading that is searched for when auto-generating the navigaton. Should follow `primary_heading` numerically for semantic correctness i.e. "h2" -> "h3".
        </td>
      </tr>
      <tr>
        <td>
          <code>excludes</code>
        </td>
        <td>
          No
        </td>
        <td>
          <code>Array&lt;String&gt;</code>
        </td>
        <td>
          <code>[]</code>
        </td>
        <td>
          Array of headings to exclude from the navigation, supports two formats:<br>
          <strong>CSS selector</strong> (e.g. "#some-id", ".some-class") - Matches based on css selectors<br>
          <strong>Text match</strong> (e.g. "text:Newsletter") - Matches based on text content of headings. Must be prepended with `text:`.
        </td>
      </tr>
    </tbody>
  </table>
</div>

## Import

### Jinja Macro

To import the Basic Section Jinja macro, copy the following import statement into your
Jinja template.

```jinja
{% raw -%}
{% from "_macros/vf_in-page-navigation.jinja" import vf_in_page_navigation %}
{%- endraw -%}
```

View the [building with Jinja macros guide](/docs/building-vanilla#jinja-macros)
for macro installation instructions.

### SCSS

Since Patterns leverage many other parts of Vanilla in their composition and content, we
recommend [importing the entirety of Vanilla](/docs#install) for full support.
