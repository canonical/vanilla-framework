<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta id="is-not-themed" data-is_not_themed="{{is_not_themed}}">
    <title>{% block title %}{% endblock %}{% if self.title() %} | {% endif %}Examples | Vanilla framework documentation</title>

    {% if is_standalone %}
    <link rel="stylesheet" type="text/css" href="{{ versioned_static('build/css/standalone/' + (self.standalone_css() if self.standalone_css is defined else 'base') + '.css') }}" />
    {% else %}
    <link rel="stylesheet" type="text/css" href="{{ versioned_static('build/css/build.css') }}" />
    {% endif %}
    <link rel="stylesheet" type="text/css" href="{{ versioned_static('build/css/docs/example.css') }}" />
    <link rel="icon" href="https://assets.ubuntu.com/v1/ab36e6ed-vanilla_favicon_32px.png" type="image/x-icon" />
    {% block style %}{% endblock %}

    <script>
      (function() {
        function inIframe () {
          try {
            return window.self !== window.top;
          } catch (e) {
            return true;
          }
        }

        function fragmentFromString(htmlString) {
          var temp = document.createElement('template');
          temp.innerHTML = htmlString;
          return temp.content;
        }

        if (!inIframe()) {
          document.documentElement.classList.add("u-baseline-grid");

          document.addEventListener('DOMContentLoaded', function() {
            var body = document.body;
            var controls = fragmentFromString('<div class="u-baseline-grid__toggle"><label class="p-switch"><input type="checkbox" class="p-switch__input js-baseline-toggle" /><span class="p-switch__slider"></span><span class="p-switch__label">Toggle baseline grid</span></label></div>');
            var themes = fragmentFromString('<div class="u-theme-toggle"><button class="u-theme-toggle__button u-theme-toggle__dark js-dark-theme-toggle">Dark</button><button class="u-theme-toggle__button u-theme-toggle__light js-light-theme-toggle">Light</button><button class="u-theme-toggle__button u-theme-toggle__paper js-paper-theme-toggle">Paper</button></div>');
      
            body.appendChild(themes);
            body.appendChild(controls);

            var toggle = document.querySelector('.js-baseline-toggle');
            toggle.addEventListener('click', function (event) {
              body.classList.toggle('u-baseline-grid');
            });

            var is_not_themed = document.getElementById('is-not-themed').getAttribute('data-is_not_themed');
            var themeToggles = document.querySelector('.u-theme-toggle');

            is_not_themed && themeToggles.classList.add('u-hide');

            var darkTheme = document.querySelector('.js-dark-theme-toggle');
            darkTheme.addEventListener('click', function (event) {
              body.classList.add('is-dark');
              body.classList.remove('is-paper');
              body.classList.remove('is-light');
            });

            var lightTheme = document.querySelector('.js-light-theme-toggle');
            lightTheme.addEventListener('click', function (event) {
              body.classList.add('is-light');
              body.classList.remove('is-dark');
              body.classList.remove('is-paper');
            });

            var paperTheme = document.querySelector('.js-paper-theme-toggle');
            paperTheme.addEventListener('click', function (event) {
              body.classList.add('is-paper');
              body.classList.remove('is-dark');
              body.classList.remove('is-light');
            });
          });
        }
      })();
    </script>
  </head>

  <body {% if is_dark %}class="is-dark"{% elif is_paper %}class="is-paper"{% endif %}>
    {% block content %}{% endblock %}
  </body>
</html>
