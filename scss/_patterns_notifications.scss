@import 'settings';
$notification-content-vert-padding: $spv-inner--small;
$notification-content-icon-space: 2 * $sph-inner + map-get($icon-sizes, default);
$notification-icon-vert-offset: 0.5 * (map-get($line-heights, default-text) - map-get($icon-sizes, default));

// Notification style patterns
@mixin vf-p-notification {
  // The mixin for basic notification styling
  %vf-notification {
    @extend %vf-is-bordered;

    border-radius: 0 $border-radius $border-radius 0;
    display: flex;
    margin-bottom: $spv-outer--scaleable;
    overflow: hidden;
    padding: 0;

    &.is-borderless {
      border-color: transparent;

      .p-notification__content {
        background-color: transparent;
        background-position: 0 0.5 * (map-get($line-heights, default-text) - map-get($icon-sizes, default));
        padding: 0 0 0 2 * $sph-inner;
      }

      &::before {
        display: none;
      }
    }

    &.is-inline {
      .p-notification__title {
        display: inline;
      }

      .p-notification__message {
        display: inline;
      }
    }
  }

  .p-notification__content {
    background-position: $sph-inner $notification-content-vert-padding + $notification-icon-vert-offset;
    background-repeat: no-repeat;
    background-size: map-get($icon-sizes, default);
    margin-bottom: 0;
    margin-top: -1px;
    padding: $notification-content-vert-padding $sph-inner + $spv-inner--small $notification-content-vert-padding $notification-content-icon-space;
  }

  .p-notification__title {
    @extend %bold;

    display: block;
  }

  .p-notification__message {
    display: block;
  }

  @include vf-notifications-default;
  @include vf-notifications-positive;
  @include vf-notifications-caution;
  @include vf-notifications-negative;
  @include vf-notifications-information;
  @include vf-notifications-deprecated;
}

// Default notification styling
@mixin vf-notifications-default {
  .p-notification {
    @extend %vf-notification;
    @include vf-highlight-bar($color-information, left);

    .p-notification__content {
      @include vf-icon-info($color-mid-dark);
    }
  }
}

// Positive notification styling
@mixin vf-notifications-positive {
  .p-notification--positive {
    @extend %vf-notification;
    @include vf-highlight-bar($color-positive, left);

    .p-notification__content {
      @include vf-icon-success;
    }
  }
}

// Caution notification styling
@mixin vf-notifications-caution {
  .p-notification--caution {
    @extend %vf-notification;
    @include vf-highlight-bar($color-caution, left);

    .p-notification__content {
      @include vf-icon-warning;
    }
  }
}

// Negative notification styling
@mixin vf-notifications-negative {
  .p-notification--negative {
    @extend %vf-notification;
    @include vf-highlight-bar($color-negative, left);

    .p-notification__content {
      @include vf-icon-error;
    }
  }
}

// Information notification styling
@mixin vf-notifications-information {
  .p-notification--information {
    @extend %vf-notification;
    @include vf-highlight-bar($color-information, left);

    .p-notification__content {
      @include vf-icon-info($color-mid-dark);
    }
  }
}

@mixin vf-notifications-deprecated {
  @include deprecate('3.0.0', 'Use new notification structure instead') {
    [class^='p-notification'] {
      .p-notification__response {
        background-position: $sph-inner $notification-content-vert-padding + $notification-icon-vert-offset;
        background-repeat: no-repeat;
        background-size: map-get($icon-sizes, default);
        margin-bottom: 0;
        padding: $notification-content-vert-padding $sph-inner + $spv-inner--small $notification-content-vert-padding $notification-content-icon-space;
      }

      .p-notification__status {
        @extend %bold;

        display: block;
      }

      .p-notification__status::after,
      .p-notification__action::before {
        content: ' ';
      }

      .p-notification__response,
      .p-notification--floating {
        max-width: unset;
      }

      .p-icon--close {
        background-color: transparent;
        background-size: map-get($icon-sizes, default);
        border: 0;
        margin: $notification-content-vert-padding + $notification-icon-vert-offset $sph-inner auto auto;
        padding: $sp-unit;
      }
    }

    .p-notification__response {
      .p-notification &,
      .p-notification--information & {
        @include vf-icon-info($color-mid-dark);
      }

      .p-notification--caution & {
        @include vf-icon-warning;
      }

      .p-notification--negative & {
        @include vf-icon-error;
      }

      .p-notification--positive & {
        @include vf-icon-success;
      }
    }
  }
}
