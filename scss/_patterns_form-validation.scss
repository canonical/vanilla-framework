@import 'settings';

// form validation styling for form inputs
@mixin vf-p-form-validation {
  $icon-size: map-get($icon-sizes, default);

  %vf-validation-wrapper {
    background-position: left, center;
    background-repeat: no-repeat;
    padding-left: calc($icon-size + $sph--small);
    padding-top: 0;
  }

  .p-form-validation__message {
    @extend %small-text;
    @extend %vf-validation-wrapper;

    margin-top: -$sp-unit;
  }

  .is-caution {
    .p-form-validation__input {
      background-color: $colors--theme--background-caution-default;
      border-bottom-color: $colors--theme--border-caution;

      &:hover {
        background-color: $colors--theme--background-caution-hover;
      }

      &:focus {
        background-color: $colors--theme--background-caution-active;
      }
    }

    .p-form-validation__message {
      @include vf-icon-warning($color: map-get($colors-light-theme--tinted-borders, caution));
      color: $colors--theme--border-caution;

      // FIXME: Temporary workaround for unsupported theme colors in icons
      // stylelint-disable-next-line selector-max-type
      body.is-dark &,
      &.is-dark {
        @include vf-icon-warning($color: map-get($colors-dark-theme--tinted-borders, caution), $color-symbol: $colors--dark-theme--background-default);
      }

      // FIXME: Temporary workaround for unsupported theme colors in icons
      // stylelint-disable-next-line selector-max-type
      &.is-light,
      &.is-paper,
      body.is-light &,
      body.is-paper & {
        @include vf-icon-warning($color: map-get($colors-light-theme--tinted-borders, caution));
      }
    }
  }

  .is-error {
    .p-form-validation__input {
      background-color: $colors--theme--background-negative-default;
      border-bottom-color: $colors--theme--border-negative;

      &:hover {
        background-color: $colors--theme--background-negative-hover;
      }

      &:focus {
        background-color: $colors--theme--background-negative-active;
      }
    }

    .p-form-validation__message {
      @include vf-icon-error($color: map-get($colors-light-theme--tinted-borders, negative));
      color: $colors--theme--border-negative;

      // FIXME: Temporary workaround for unsupported theme colors in icons
      // stylelint-disable-next-line selector-max-type
      body.is-dark &,
      &.is-dark {
        @include vf-icon-error($color: map-get($colors-dark-theme--tinted-borders, negative), $color-symbol: $colors--dark-theme--background-default);
      }

      // FIXME: Temporary workaround for unsupported theme colors in icons
      // stylelint-disable-next-line selector-max-type
      &.is-light,
      &.is-paper,
      body.is-light &,
      body.is-paper & {
        @include vf-icon-error($color: map-get($colors-light-theme--tinted-borders, negative));
      }
    }
  }

  .is-success {
    .p-form-validation__input {
      background-color: $colors--theme--background-positive-default;
      border-bottom-color: $colors--theme--border-positive;

      &:hover {
        background-color: $colors--theme--background-positive-hover;
      }

      &:focus {
        background-color: $colors--theme--background-positive-active;
      }
    }

    .p-form-validation__message {
      @include vf-icon-success($color: map-get($colors-light-theme--tinted-borders, positive));
      color: $colors--theme--border-positive;

      // FIXME: Temporary workaround for unsupported theme colors in icons
      // stylelint-disable-next-line selector-max-type
      body.is-dark &,
      &.is-dark {
        @include vf-icon-success($color: map-get($colors-dark-theme--tinted-borders, positive), $color-symbol: $colors--dark-theme--background-default);
      }

      // FIXME: Temporary workaround for unsupported theme colors in icons
      // stylelint-disable-next-line selector-max-type
      &.is-light,
      &.is-paper,
      body.is-light &,
      body.is-paper & {
        @include vf-icon-success($color: map-get($colors-light-theme--tinted-borders, positive));
      }
    }
  }
}
