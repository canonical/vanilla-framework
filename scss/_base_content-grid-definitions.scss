@mixin vf-b-content-grid-row-reset {
  margin-left: 0;
  margin-right: 0;
  padding-left: 0;
  padding-right: 0;
}

@mixin vf-b-content-grid-definitions {
  %content-grid-display-block {
    // make columns explicitly display:block; the use of a placeholder is to ensure the rule appears only once in the compiled css
    display: block;
  }

  %content-grid-fixed-width-container--common-properties {
    @extend %vf-content-grid-container-padding;

    margin-left: auto;
    margin-right: auto;
    width: 100%;
  }

  %content-grid-fixed-width-container {
    @extend %content-grid-fixed-width-container--common-properties;

    max-width: $content-grid-max-width;

    & & {
      @include vf-b-content-grid-row-reset;
    }
  }

  %vf-content-grid-row {
    @extend %content-grid-fixed-width-container;

    @supports (display: grid) {
      display: grid;
      grid-gap: 0 map-get($content-grid-gutter-widths, small);
      grid-template-columns: repeat($content-grid-columns-small, minmax(0, 1fr));
      grid-template-rows: auto;
      margin-left: auto;
      margin-right: auto;
      max-width: $content-grid-max-width;

      & > * {
        grid-column-end: span $content-grid-columns-small;
      }

      [class*='#{$content-grid-column-prefix}'] {
        grid-column-start: auto;
      }

      // set static gutter width per breakpoint
      @media (min-width: $content-grid-threshold-small-med-col) {
        grid-gap: 0 map-get($content-grid-gutter-widths, default);
        grid-template-columns: repeat($content-grid-columns-medium, minmax(0, 1fr));

        & > * {
          grid-column-end: span $content-grid-columns-medium;
        }
      }

      @media (min-width: $content-grid-threshold-med-large-col) {
        grid-gap: 0 map-get($content-grid-gutter-widths, default);
        grid-template-columns: repeat($content-grid-columns, minmax(0, 1fr));

        & > * {
          grid-column-end: span $content-grid-columns;
        }
      }
    }
  }

  %vf-content-grid-container-padding {
    // set static outside padding per breakpoint
    padding-left: map-get($content-grid-margin-widths, small);
    padding-right: map-get($content-grid-margin-widths, small);

    @media (min-width: $content-grid-threshold-small-med-col) {
      padding-left: map-get($content-grid-margin-widths, default);
      padding-right: map-get($content-grid-margin-widths, default);
    }

    @media (min-width: $content-grid-threshold-med-large-col) {
      padding-left: map-get($content-grid-margin-widths, default);
      padding-right: map-get($content-grid-margin-widths, default);
    }
  }
}
